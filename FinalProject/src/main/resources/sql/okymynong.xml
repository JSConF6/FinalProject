<?xml version="1.0" encoding="UTF-8" ?>
<!-- SQL맵퍼 파일은 xml이기 때문에 제일 먼저 xml 선언이 옵니다. -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Mynong">

<insert id="insert" parameterType="String">
insert into mynong values (#{MYNONG_NAME})
</insert>

<select id="select" parameterType="String" resultType="String">
select * from mynong where MYNONG_NAME = #{MYNONG_NAME}
</select>

<select id="selectid" parameterType="String" resultType="String">
select * from member where id = #{id}
</select>

<select id="list" parameterType="okyimsi" resultType="okyimsi">
select ID, NICK from member where id = #{ID}
</select>

<update id="addnong" parameterType="okyimsi">
 update member
 set
   MYNONG_NAME = #{MYNONG_NAME},
   MY_FARM = '1'
  where id = #{ID}
</update>

<update id="insertusertonong" parameterType="okyimsi">
 update member
 set
   MYNONG_NAME = #{MYNONG_NAME},
   MY_FARM = '2'
  where id = #{ID}
</update>

<select id="checkid"  parameterType="okyimsi" resultType="okyimsi">
 select ID from member 
 where id = #{ID} and MYNONG_NAME = #{MYNONG_NAME}
</select>

<select id="list2" parameterType="okyimsi" resultType="okyimsi">
select ID, NICK from member where MYNONG_NAME = #{MYNONG_NAME} and MY_FARM = '2'
</select>


<select id="list3" parameterType="map" resultType="okyimsi">
select ID, NICK
 from ( select rownum rnum, b.*
         from ( select *
                from member
                where MYNONG_NAME = #{MYNONG_NAME} and MY_FARM = '2'
                order by ID
               )b
           )
       where rnum &gt;= #{start} and rnum &lt;= #{end}
</select>

<select id ="searchCount" parameterType="String" resultType="int">
 select count(*)
 from member
 where MYNONG_NAME = #{MYNONG_NAME} and MY_FARM = '2'
</select>

</mapper>

